<?php defined('BASEPATH') OR exit('No direct script access allowed'); ?><?php load_module_asset('cms','widget','widget.css.php'); ?><section class="content-header">    <h1>Widgets <small>Options</small></h1>    <ol class="breadcrumb">        <li><a href="<?php echo site_url(Backend_URL); ?>"><i class="fa fa-dashboard"></i> Home</a></li>        <li class="active">All Categories</li>    </ol></section><section class="content">    <div class="row">        <div class="col-md-8">            <div class="box">                <div class="box-header with-border">                    <h3 class="box-title">General Widget</h3>                </div>                <div class="box-body">                                <?php echo $output; ?>                </div>            </div>                    </div>        <div class="col-md-4">            <div class="box">                <div class="box-header with-border">                    <h3 class="box-title">General Widget</h3>                </div>                <form id="add_widget" class="form-horizontal" method="post">                    <div class="box-body">                                                 <div class="form-group">                            <label class="col-md-3 control-label text-right">Field Type: </label>                            <div class="col-md-9" style="padding-top:8px;">                               <?php echo htmlRadio('type', 'Text', [                                  'Text' => 'Text',                                  'Textarea' => 'Textarea',                                  'HTML' => 'HTML Editor',                              ]);?>                            </div>                        </div>                                                <div class="form-group">                            <label class="col-md-3 control-label text-right">Name Key: </label>                            <div class="col-md-9">                                <input name="name_key" id="name_key" type="text" placeholder="EnterNameKey" class="form-control input-md">                                                                <p class="help text-red">Tip: No Space & Capitalizes Word. E.g. NameKey </p>                            </div>                        </div>                                                                    </div>                    <div class="box-footer">                        <div id="ajaxRespond"></div>                        <button id="submit" class="btn btn-success">                            <i class="fa fa-save"></i>                             Save Changes                        </button>                    </div>                </form>            </div>        </div>    </div></section><script type="text/javascript">    function save_widget( WidgetID ) {                var Widget = $(`#${WidgetID}`).serialize();        $.ajax({            url: 'admin/cms/widget/save',            type: 'POST',            dataType: "json",            data: Widget,            beforeSend: function () {                $(`#respond_${WidgetID}`)                        .html('<p class="ajax_processing">Loading...</p>')                        .css('display', 'block');            },            success: function (jsonRespond) {                $(`#respond_${WidgetID}`).html(jsonRespond.Msg);                if (jsonRespond.Status === 'OK') {                    setTimeout(function () {                        $(`#respond_${WidgetID}`).slideUp();                    }, 2000);                }            }        });        return false;    }        function delete_widget( WidgetLabel ) {                var yes = confirm('Confirm Delete');        if(!yes){            return false;        }                $.ajax({            url: 'admin/cms/widget/delete',            type: 'POST',            dataType: "text",            data: { label: WidgetLabel },            beforeSend: function () {                $(`#respond_${WidgetLabel}`)                        .html('<p class="ajax_processing">Loading...</p>')                        .css('display', 'block');            },            success: function (respond) {                $(`#respond_${WidgetLabel}`).html(respond);                                setTimeout(function () {                   location.reload();                }, 2000);            }                    });        return false;    }        $('#add_widget').on('submit', function (e) {        e.preventDefault();        var error = 0;                var key = $('#name_key').val();        if(!key){            $('#name_key').addClass('required');            error = 1;        } else {            $('#name_key').addClass('required_pass').removeClass('required');        }                        if(error === 0 ){            var formData = $('#add_widget').serialize();            $.ajax({                url: 'admin/cms/widget/add',                type: 'POST',                dataType: "json",                data: formData,                beforeSend: function () {                    $('#ajaxRespond')                        .html('<p class="ajax_processing">Loading...</p>')                        .css('display', 'block');                },                success: function (jsonRespond) {                    $('#ajaxRespond').html(jsonRespond.Msg);                    if (jsonRespond.Status === 'OK') {                        setTimeout(function () {                            location.reload();                        }, 2000);                    }                }            });        }    });</script>     